<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Project Dashboard</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family: 'Segoe UI', sans-serif;
}

body{
    background:#0f172a;
    color:#fff;
    min-height:100vh;
    display:flex;
}

/* Sidebar */
.sidebar{
    width:220px;
    background:rgba(255,255,255,0.05);
    backdrop-filter: blur(15px);
    border-left:1px solid rgba(255,255,255,0.1);
    padding:20px;
}

.sidebar h2{
    margin-bottom:30px;
    text-align:center;
}

.sidebar ul{
    list-style:none;
}

.sidebar li{
    padding:15px;
    margin-bottom:10px;
    border-radius:10px;
    cursor:pointer;
    transition:0.3s;
}

.sidebar li:hover{
    background:rgba(255,255,255,0.1);
}

/* Main */
.main{
    flex:1;
    padding:20px;
    overflow:auto;
}

.glass{
    background:rgba(255,255,255,0.07);
    backdrop-filter:blur(15px);
    border:1px solid rgba(255,255,255,0.1);
    border-radius:15px;
    padding:20px;
    margin-bottom:20px;
}

/* Clock */
.clock{
    text-align:center;
    font-size:22px;
    font-weight:bold;
}

/* Form */
form{
    display:grid;
    grid-template-columns: repeat(auto-fit,minmax(180px,1fr));
    gap:10px;
}

input, select, button{
    padding:10px;
    border:none;
    border-radius:8px;
}

button{
    background:#3b82f6;
    color:#fff;
    cursor:pointer;
    transition:0.3s;
}

button:hover{
    background:#2563eb;
}

/* Delete Button */
.delete-btn{
    background:#ef4444;
}

.delete-btn:hover{
    background:#dc2626;
}

/* Stats */
.stats{
    display:flex;
    gap:20px;
    flex-wrap:wrap;
}

.stat-card{
    flex:1;
    min-width:200px;
}

/* Table */
table{
    width:100%;
    border-collapse:collapse;
    margin-top:10px;
}

th, td{
    padding:10px;
    text-align:center;
    border-bottom:1px solid rgba(255,255,255,0.1);
}

.badge{
    padding:5px 10px;
    border-radius:20px;
    font-size:12px;
}

.badge.عمل{ background:#10b981;}
.badge.دراسة{ background:#f59e0b;}
.badge.شخصي{ background:#ef4444;}

.status-btn{
    padding:5px 10px;
    font-size:12px;
}

/* Responsive */
@media(max-width:768px){
    .sidebar{display:none;}
}
</style>
</head>
<body>

<div class="sidebar">
    <h2>لوحة التحكم</h2>
    <ul>
        <li><i class="fa fa-home"></i> الرئيسية</li>
        <li><i class="fa fa-folder"></i> المشاريع</li>
        <li><i class="fa fa-chart-line"></i> الإحصائيات</li>
    </ul>
</div>

<div class="main">

    <div class="glass clock" id="clock"></div>

    <div class="glass">
        <form id="taskForm">
            <input type="text" id="title" placeholder="اسم المهمة">
            <select id="category">
                <option value="">التصنيف</option>
                <option value="عمل">عمل</option>
                <option value="دراسة">دراسة</option>
                <option value="شخصي">شخصي</option>
            </select>
            <input type="date" id="startDate">
            <input type="date" id="endDate">
            <button type="submit">إضافة</button>
        </form>
    </div>

    <div class="stats">
        <div class="glass stat-card">
            <h3>إجمالي المهام</h3>
            <p id="totalTasks">0</p>
        </div>
        <div class="glass stat-card">
            <h3>المهام المكتملة</h3>
            <p id="completedTasks">0</p>
        </div>
        <div class="glass stat-card">
            <h3>منطق AI</h3>
            <p id="aiLogic">لم يتم تحليل المهام بعد.</p>
        </div>
    </div>

    <div class="glass">
        <table>
            <thead>
                <tr>
                    <th>المهمة</th>
                    <th>التصنيف</th>
                    <th>من</th>
                    <th>إلى</th>
                    <th>الحالة</th>
                    <th>إجراء</th>
                </tr>
            </thead>
            <tbody id="taskTable"></tbody>
        </table>
    </div>

</div>

<script>
document.addEventListener("DOMContentLoaded", function(){

    const clock = document.getElementById("clock");
    const form = document.getElementById("taskForm");
    const taskTable = document.getElementById("taskTable");
    const totalTasks = document.getElementById("totalTasks");
    const completedTasks = document.getElementById("completedTasks");
    const aiLogic = document.getElementById("aiLogic");

    let tasks = JSON.parse(localStorage.getItem("tasks")) || [];

    function updateClock(){
        const now = new Date();
        clock.textContent = now.toLocaleTimeString();
    }
    setInterval(updateClock,1000);
    updateClock();

    function saveTasks(){
        localStorage.setItem("tasks", JSON.stringify(tasks));
    }

    function render(){
        taskTable.innerHTML="";
        let completed=0;

        tasks.forEach((task,index)=>{
            if(task.status==="مكتمل") completed++;

            const row = document.createElement("tr");
            row.innerHTML=`
                <td>${task.title}</td>
                <td><span class="badge ${task.category}">${task.category}</span></td>
                <td>${task.startDate}</td>
                <td>${task.endDate}</td>
                <td>${task.status}</td>
                <td>
                    <button class="status-btn" onclick="toggleTask(${index})">
                        تبديل
                    </button>
                    <button class="delete-btn" onclick="deleteTask(${index})">
                        <i class="fa fa-trash"></i>
                    </button>
                </td>
            `;
            taskTable.appendChild(row);
        });

        totalTasks.textContent = tasks.length;
        completedTasks.textContent = completed;

        generateAI();
    }

    function generateAI(){
        if(tasks.length <=2){
            aiLogic.textContent = "AI يقترح استخدام خوارزمية Greedy لإنجاز المهام حسب الأولوية.";
        }else if(tasks.length <=5){
            aiLogic.textContent = "AI يقترح تقسيم المهام باستخدام Parallel Processing لزيادة الإنتاجية.";
        }else{
            aiLogic.textContent = "AI يقترح استخدام Hybrid Strategy تجمع بين Greedy وParallel لتحقيق أفضل كفاءة.";
        }
    }

    form.addEventListener("submit", function(e){
        e.preventDefault();

        const title = document.getElementById("title").value.trim();
        const category = document.getElementById("category").value;
        const startDate = document.getElementById("startDate").value;
        const endDate = document.getElementById("endDate").value;

        if(!title || !category || !startDate || !endDate){
            alert("يرجى ملء جميع الحقول");
            return;
        }

        tasks.push({
            title,
            category,
            startDate,
            endDate,
            status:"قيد التنفيذ"
        });

        saveTasks();
        render();
        form.reset();
    });

    window.toggleTask = function(index){
        tasks[index].status = tasks[index].status==="قيد التنفيذ" ? "مكتمل" : "قيد التنفيذ";
        saveTasks();
        render();
    }

    window.deleteTask = function(index){
        if(confirm("هل أنت متأكد من حذف المهمة؟")){
            tasks.splice(index,1);
            saveTasks();
            render();
        }
    }

    render();
});
</script>

</body>
</html>
